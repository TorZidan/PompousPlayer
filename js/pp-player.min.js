/*
 Pompous Player v24.

 @license Copyright (c) 2020 Pompous Media LLC. All rights reserved.
 Subject to the terms at 
 https://github.com/TorZidan/PompousPlayer/blob/master/STANDARD_LICENSE 
 and https://www.pompousphotos.com/commercial_license
*/
var r;function la(e){var b=0;return function(){return b<e.length?{done:!1,value:e[b++]}:{done:!0}}}function W(e){var b="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return b?b.call(e):{next:la(e)}}function ta(e){if(!(e instanceof Array)){e=W(e);for(var b,f=[];!(b=e.next()).done;)f.push(b.value);e=f}return e}
var Fa="function"==typeof Object.defineProperties?Object.defineProperty:function(e,b,f){e!=Array.prototype&&e!=Object.prototype&&(e[b]=f.value)},Ga="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function Ha(e,b){if(b){var f=Ga;e=e.split(".");for(var l=0;l<e.length-1;l++){var t=e[l];t in f||(f[t]={});f=f[t]}e=e[e.length-1];l=f[e];b=b(l);b!=l&&null!=b&&Fa(f,e,{configurable:!0,writable:!0,value:b})}}
Ha("Promise",function(e){function b(q){this.f=0;this.i=void 0;this.a=[];var z=this.g();try{q(z.resolve,z.reject)}catch(E){z.reject(E)}}function f(){this.a=null}function l(q){return q instanceof b?q:new b(function(z){z(q)})}if(e)return e;f.prototype.f=function(q){if(null==this.a){this.a=[];var z=this;this.g(function(){z.i()})}this.a.push(q)};var t=Ga.setTimeout;f.prototype.g=function(q){t(q,0)};f.prototype.i=function(){for(;this.a&&this.a.length;){var q=this.a;this.a=[];for(var z=0;z<q.length;++z){var E=
q[z];q[z]=null;try{E()}catch(A){this.h(A)}}}this.a=null};f.prototype.h=function(q){this.g(function(){throw q;})};b.prototype.g=function(){function q(A){return function(T){E||(E=!0,A.call(z,T))}}var z=this,E=!1;return{resolve:q(this.v),reject:q(this.h)}};b.prototype.v=function(q){if(q===this)this.h(new TypeError("A Promise cannot resolve to itself"));else if(q instanceof b)this.w(q);else{a:switch(typeof q){case "object":var z=null!=q;break a;case "function":z=!0;break a;default:z=!1}z?this.u(q):this.j(q)}};
b.prototype.u=function(q){var z=void 0;try{z=q.then}catch(E){this.h(E);return}"function"==typeof z?this.B(z,q):this.j(q)};b.prototype.h=function(q){this.m(2,q)};b.prototype.j=function(q){this.m(1,q)};b.prototype.m=function(q,z){if(0!=this.f)throw Error("Cannot settle("+q+", "+z+"): Promise already settled in state"+this.f);this.f=q;this.i=z;this.o()};b.prototype.o=function(){if(null!=this.a){for(var q=0;q<this.a.length;++q)P.f(this.a[q]);this.a=null}};var P=new f;b.prototype.w=function(q){var z=this.g();
q.qa(z.resolve,z.reject)};b.prototype.B=function(q,z){var E=this.g();try{q.call(z,E.resolve,E.reject)}catch(A){E.reject(A)}};b.prototype.then=function(q,z){function E(da,K){return"function"==typeof da?function(R){try{A(da(R))}catch(L){T(L)}}:K}var A,T,Z=new b(function(da,K){A=da;T=K});this.qa(E(q,A),E(z,T));return Z};b.prototype.catch=function(q){return this.then(void 0,q)};b.prototype.qa=function(q,z){function E(){switch(A.f){case 1:q(A.i);break;case 2:z(A.i);break;default:throw Error("Unexpected state: "+
A.f);}}var A=this;null==this.a?P.f(E):this.a.push(E)};b.resolve=l;b.reject=function(q){return new b(function(z,E){E(q)})};b.race=function(q){return new b(function(z,E){for(var A=W(q),T=A.next();!T.done;T=A.next())l(T.value).qa(z,E)})};b.all=function(q){var z=W(q),E=z.next();return E.done?l([]):new b(function(A,T){function Z(R){return function(L){da[R]=L;K--;0==K&&A(da)}}var da=[],K=0;do da.push(void 0),K++,l(E.value).qa(Z(da.length-1),T),E=z.next();while(!E.done)})};return b});
function Sa(e,b,f){if(null==e)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return e+""}Ha("String.prototype.startsWith",function(e){return e?e:function(b,f){var l=Sa(this,b,"startsWith"),t=l.length,P=b.length;f=Math.max(0,Math.min(f|0,l.length));for(var q=0;q<P&&f<t;)if(l[f++]!=b[q++])return!1;return q>=P}});
Ha("Object.is",function(e){return e?e:function(b,f){return b===f?0!==b||1/b===1/f:b!==b&&f!==f}});Ha("Array.prototype.includes",function(e){return e?e:function(b,f){var l=this;l instanceof String&&(l=String(l));var t=l.length;f=f||0;for(0>f&&(f=Math.max(f+t,0));f<t;f++){var P=l[f];if(P===b||Object.is(P,b))return!0}return!1}});Ha("String.prototype.includes",function(e){return e?e:function(b,f){return-1!==Sa(this,b,"includes").indexOf(b,f||0)}});
Ha("String.prototype.endsWith",function(e){return e?e:function(b,f){var l=Sa(this,b,"endsWith");void 0===f&&(f=l.length);f=Math.max(0,Math.min(f|0,l.length));for(var t=b.length;0<t&&0<f;)if(l[--f]!=b[--t])return!1;return 0>=t}});
function Ta(e,b){b=void 0===b?1:b;if(null==e)return String(e);switch(typeof e){case "string":return"'"+e+"'";case "function":return e.name||e.toString();case "object":var f=Array(b||1).join("\t"),l=Array.isArray(e);return"{["[+l]+Object.keys(e).map(function(t){return"\n\t"+f+t+": "+Ta(e[t],(b||1)+1)}).join(",")+"\n"+f+"}]"[+l];default:return e.toString()}}
function fb(e,b){var f=e[b];if(f)try{f.call(e)}catch(l){console.warn("The call to function '"+b+"()' errored out. Ignoring it and continuing.")}else console.warn("No such function: '"+b+"()' !")}
window.PompousPlayer=function(e){function b(a){window.console.info&&3<=Aa&&l(a,window.console.info)}function f(a){window.console.warn&&2<=Aa&&l(a,window.console.warn)}function l(a,d){d(F&&C?"P+"+((Date.now()-F)/1E3).toFixed(3)+" : "+a:F&&!C?"B+"+((Date.now()-F)/1E3).toFixed(3)+" : "+a:"N+"+((Date.now()-lb)/1E3).toFixed(3)+" : "+a)}function t(a){for(var d=0,c=[],g=-1,h=0,k=[],n=!1,u=0,p=0;p<a.length;p++)a[p].c!=g&&0!=k.length&&(n&&d++,a[p].C=u,c.push({C:u,A:k,c:g,I:h,played:!1,V:!n,za:d}),u++,b("Pushed "+
k.length+" animations all with a delay of "+g+", longestAnimDurationMs="+h+", isSkippable="+!n+"; displayIndex="+d),k=[],n=!1),k.push(a[p]),a[p].C=u,a[p].P&&(a[p].P.C=u),a[p].V||(n=!0),g=a[p].c,a[p].P&&a[p].P.s>h&&(h=a[p].P.s);0!=k.length&&(n&&d++,c.push({C:u++,A:k,c:g,I:h,played:!1,V:!n,za:d}),b("Pushed "+k.length+" animations all with a delay of "+g+", longestAnimDurationMs="+h+", isSkippable="+!n+"; displayIndex="+d));b("There are "+c.length+" grouped animations.");a=-1;for(d=c.length-1;0<=d;d--)c[d].V||
(c[d].Ka=a,a=d);for(a=0;a<c.length;a++)b("group "+a+" has nextNonSkippableGroupId="+c[a].Ka);return c}function P(a){for(var d=[],c=0;c<a.length;c++)a[c].V||d.push(a[c]);return d}function q(a,d,c){var g=!1,h=0;if(!a.hasAttribute("data-classes"))throw Error("Internal error: The dom element should have the 'data-classes' attribute, but it doesn't!");a=a.getAttribute("data-classes").split(",").map(function(u){return u.trim()});a=W(a);for(var k=a.next();!k.done;k=a.next())if(k=k.value,0!==k.length){g=
mb(k,z(d.pa));g=W(g);for(var n=g.next();!n.done;n=g.next())n=n.value,n.Ga=h,n.Fa=c.id,d.A.push({c:n.c,Ra:k,P:n,pa:d.pa,Ga:h,Fa:c.id,V:n.V}),h++,c.id++,n.c+n.s>v&&(v=n.c+n.s);g=!0}return g}function z(a){return U.querySelector("[data-actor-id=actor"+a+"]")}function E(a,d,c){if(a){a=a.replace(/\./g,"");a=a.replace(/,/g," ");a=a.match(/\S+/g)||[];for(var g=0;g<a.length;g++){var h=a[g];if(""!==h){if(c&&!nb("."+h))throw alert("Invalid play script! Developer, see the browser console for more info."),Error("Class '"+
h+"' not found ! The animation may not play properly.");d.classList.add(h);b("Applied initial CSS class '"+h+"'")}}}}function A(){if(void 0===B)f("Called jumpAudioAndVideos() while requestingJumpToOffsetFromStartMs is undefined. This is not a valid case. Will do nothing.");else{Z(B);for(var a=W(aa),d=a.next();!d.done;d=a.next())if(d=d.value,d.J=void 0,B>=d.la&&B<d.xa){var c=(B-d.la)/1E3+d.ra;y?T(d,c):(!1===d.l.paused&&(d.l.pause(),d.H=ba.paused,fb(x,"videoPlayPaused")),d.l.currentTime=c)}else!1===
d.l.paused&&(d.l.pause(),d.H=ba.paused,fb(x,"videoPlayPaused"))}}function T(a,d){a.ra>a.l.duration?(!1===a.l.paused&&(a.l.pause(),a.H=ba.paused),a.l.currentTime=a.l.duration,fb(x,"videoPlayPaused")):a.H!==ba.Na?(!1===a.l.paused&&(a.l.pause(),a.H=ba.paused,fb(x,"videoPlayPaused")),a.l.currentTime=d,d=a.l.play(),void 0!==d?(a.H=ba.Na,ea++,fb(x,"waitingForVideoToPlay"),d.then(function(){a.H=ba.Ma;ea--;fb(x,"videoPlayStarted")}).catch(function(c){a.H=ba.paused;ea--;var g=x.videoPlayErrored;if(g)try{g.call(x,
c)}catch(h){console.warn("The call to function 'videoPlayErrored(arg1)' errored out. Ignoring it and continuing.")}else console.warn("No such function: 'videoPlayErrored()' !");f("Could not start playing video "+a.l.id+" properly: "+c)})):a.H=ba.Ma):f("Requesting to start playing an html5 video, but another request is already underway! Ignoring this one.")}function Z(a){var d=document.getElementById(w.stageId+"-audio");if(d){d.volume=1;ma&&(clearTimeout(ma),ma=void 0);var c=da(a/1E3,d.duration);d.pause();
d.currentTime=c;y&&a<v?d.play().catch(function(g){f("Could not start playing audio: "+g);x.audioMutedUnmuted(!0);fa=d.muted=!0}):d.pause()}}function da(a,d){for(var c=a;a>d;)a-=d;isNaN(a)&&f("########### Calculated NaN from "+c+", "+d);return a}function K(a){x.progressUpdate&&x.progressUpdate(null,-1==a?0:a==m.O.length?v:m.O[a].c,v,!y);x.onPrevOrNextAnimationChange(y,a,m.O.length,m.O[a]?m.O[a].za:0)}function R(){na&&(clearTimeout(na),na=void 0)}function L(){document.addEventListener("visibilitychange",
function(){var a=Date.now(),d=a-Ua;Ua=a;if(document.hidden)for(b("At "+new Date+" browser tab became inactive; it was active for "+d/1E3+" seconds."),Ia=y,R(),y&&!I&&(H=X-F,ja=ka=y=!1,x.playPaused(H,v),(a=document.getElementById(w.stageId+"-audio"))&&a.pause()),a=W(aa),d=a.next();!d.done;d=a.next())d=d.value,d.J=void 0,!1===d.l.paused&&(d.l.pause(),d.H=ba.paused,fb(x,"videoPlayPaused"));else b("At "+new Date+" browser tab became active; it was inactive for "+d/1E3+" seconds."),Ia&&!I&&(Ia=!1,ua(void 0))});
document.addEventListener("fullscreenchange",Ja,!1);document.addEventListener("webkitfullscreenchange",Ja,!1);document.addEventListener("mozfullscreenchange",Ja,!1)}function ha(){if(ia){var a=y;y=!1;H=0;S=I=!1;H=F=void 0;C=!0;Z(0);R();for(var d=W(aa),c=d.next();!c.done;c=d.next())c=c.value,!1===c.l.paused&&(c.l.pause(),c.H=ba.paused,fb(x,"videoPlayPaused"));Va();x.reset(!!document.getElementById(w.stageId+"-audio")||0<aa.length,fa);x.progressUpdate&&x.progressUpdate(null,0,v,!0);a||ca?ua(!0):H=0;
ca=!1}else f("Requesting reset from beginning before init finished. Ignoring it.")}function wa(a){if(ma){var d=.9*a.volume;.1>=d?(a.volume=0,a.pause(),a.volume=1,ma&&(clearTimeout(ma),ma=void 0)):(a.volume=d,ma=setTimeout(function(){wa(a)},100))}else f("Returning in fadeAudioOutRecursive, looks like some wants to interrupt the fade audio out.")}function oa(){var a=document.getElementById(w.stageId+"-audio");a&&(ma=1,wa(a))}function ob(){for(var a=0,d=w.loadNImagesAhead&&-1!=w.loadNImagesAhead?w.loadNImagesAhead:
m.O.length,c=0;c<m.U.length;c++){var g=m.U[c].Aa;if(!0===m.U[c].va)g.includes("image")&&a++;else{if(a>=d)break;g.includes("image")&&a++;m.U[c].va=!0;var h=z(c);E(g,h,!1);Wa(g,h)}}}function Wa(a,d){var c=Xa(a),g=c["--pp-width"];if(void 0!=g)if(b("Found "+g+" width in "+a),g.endsWith("%")){var h=g.substr(0,g.length-1);isNaN(h)?f('Expected a number here: "--pp-width:'+g+'", but found: '+h):d.style.width=Math.round(U.clientWidth*parseInt(h,10)/100)+"px"}else f("Could not parse: --pp-width:"+g);c=c["--pp-height"];
void 0!=c&&(b("Found "+c+" height in "+a),c.endsWith("%")?(a=c.substr(0,c.length-1),isNaN(a)?f('Expected a number here: "--pp-width:'+c+'", but found: '+a):d.style.height=Math.round(U.clientHeight*parseInt(a,10)/100)+"px"):f("Could not parse: --pp-width:"+g))}function Va(){for(var a=0;a<m.A.length;a++){var d=m.A[a].P;d&&(window.getComputedStyle(d.D,null),d.D.removeAttribute("style"),d.Ia=void 0,d.Ja=void 0,d.ea=void 0,d.Wa=void 0,d.W=!1,d.X=!1,d.wa=void 0);d.video&&(d.video.H=ba.paused,d.video.J=
void 0)}}function ua(a){if(y)f("play() requested, but we're already playing. Ignoring it.");else if(!0!==a||!I)if(!1!==a||!S)if(ka=y=!0,ja=!1,void 0!==a&&a!=C&&(pa=!0),R(),!1===a&&I&&(I=!1),!0===a&&S&&(S=!1),!Ka&&!Ka){for(a=0;a<m.U.length;a++)if(!0!==m.U[a].va){m.U[a].va=!0;var d=z(a),c=m.U[a].Aa;E(c,d,!1);Wa(c,d)}Ka=!0}}function pb(a,d){var c=document.getElementById(w.stageId+"-audio");!c||fa||I||(Z(d),c.volume=1,c.play().catch(function(k){f("Error starting audio: "+k);x.audioMutedUnmuted(!0);fa=
c.muted=!0}));for(var g=W(aa),h=g.next();!h.done;h=g.next())h=h.value,h.J=void 0,a&&d>=h.la&&d<h.xa&&T(h,(d-h.la)/1E3+h.ra)}function Ba(){y?f("Ignoring restartFromBenginningIfNeeded() request; we are currently playing."):(oa(),R(),w.autoRestartAtEnd&&I&&ca&&!y?na=setTimeout(function(){na&&(na=void 0,ha())},2E3):w.autoRestartAtStart&&S&&ca&&!y&&(na=setTimeout(function(){na&&(na=void 0,ha())},2E3)))}function qb(a,d){for(var c in a)d[c]=a[c]}function rb(a,d){for(var c in d)if("stageStyle"!==c&&"webfonts"!==
c&&"audio"!==c&&"pompousEventNotifier"!==c)if("autoStart"===c&&("true"===a[c]||"false"===a[c]||"jump_to_1st_nonskippable"===a[c]||"jump_to_time_0"===a[c]))d[c]=a[c];else if(void 0!==d[c]&&void 0!==a[c])switch(typeof d[c]){case "boolean":"true"===a[c]?d[c]=!0:"false"===a[c]?d[c]=!1:f("Invalid boolean argument in URL paramerter '"+c+"'='"+a[c]+"'! Valid values are 'true', 'false'. Skipping it.");break;case "string":f("Setting string params in the URL is way too dangerous for code injection attacks. We don't allow it.");
break;case "number":var g=a[c];isNaN(g)?f("Invalid numeric argument in URL paramerter '"+c+"'='"+a[c]+"'! Skipping it."):d[c]=parseInt(g,10);break;case "undefined":break;default:f("We don't support the type of URL paramerter '"+c+"'='"+a[c]+"'! Skipping it.")}}function Ja(){null==(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)?x.fullScreenChanged(!1):x.fullScreenChanged(!0)}function nb(a){var d=!1;$.each(window.document.styleSheets,function(){try{$.each(this.cssRules||
this.rules,function(){this.selectorText&&this.selectorText==a&&(d=!0);this.selectorText&&this.selectorText.startsWith(a+" ")&&(d=!0);this.selectorText&&this.selectorText.startsWith(a+">")&&(d=!0)})}catch(c){if("SecurityError"!==c.name&&"InvalidAccessError"!==c.name&&"Error"!=c.name)throw f("There was an error: "+c+"; the error name is '"+c.name+"'"),c;f("Swallowing this error while parsing stylesheets and continuing: "+c)}});return d}function Xa(a){if(0===a.length)return{};var d={};a=a.trim();if(!a.includes(" ")&&
!a.includes(",")){b("Common use case: classesSeparatedBySpaceStr="+a);a=Ya(a);for(var c=0;c<a.style.length;c++){var g=a.style.item(c).trim(),h=a.style.getPropertyValue(g).trim();d[g]=h}return d}c=a.replace(/\./g,"");c=c.replace(/,/g," ");g=c.match(/\S+/g)||[];for(h=0;h<g.length;h++)for(var k=Ya(g[h]),n=0;n<k.style.length;n++){var u=k.style.item(n).trim(),p=k.style.getPropertyValue(u).trim();d[u]=p}b("Non-common use case: classesSeparatedBySpaceStr="+a+", classesToFind="+c+"; result="+JSON.stringify(d));
return d}function Ya(a){a="."+a;for(var d=0;d<document.styleSheets.length;d++){var c=document.styleSheets[d];if(!c.href||!c.href.includes("fontawesome")){try{var g=c.cssRules||c.rules}catch(h){f("Could not access the css in stylesheet '"+c.href+"' ! Skipping it. This happens in Firefox...");continue}for(c=0;c<g.length;c++)if(g[c].selectorText===a&&1===g[c].type)return g[c]}}throw Error("Could not find definition for CSS class name '"+a+"'!");}function Za(a){var d=a.children;if(d&&0!==d.length)for(var c=
0;c<d.length;c++)if("VIDEO"===d[c].tagName){for(var g=void 0,h=W(aa),k=h.next();!k.done;k=h.next())k=k.value,k.La===a&&(g=k);if(g)return g;a={La:a,l:d[c],ra:sb(d[c]),H:ba.paused,J:void 0};aa.push(a);return a}}function sb(a){a=a.getAttribute("src");if(!a)return 0;var d=a.indexOf("#t=");if(0>d)return 0;d=a.substr(d+3);var c=d.indexOf(",");d=0<=c?d.substr(0,c):d;c=parseFloat(d);if(isNaN(c))throw alert("Invalid play script! Developer, see the browser console for more info."),Error("Could not parse the string '"+
d+"' into a floating number! Cannot continue. The string was found in the video URL '"+a+"'.");return 0>c?(f("Video start offset "+c+" is invalid. Will use 0 instead."),0):c}function mb(a,d){var c=void 0,g=void 0,h=void 0;a=a.match(/\S+/g)||[];for(var k=a.length;k--;){var n=a[k];"skippable"===n&&(h=!0,a.splice(k,1));n.startsWith("delay-")&&(c=$a("delay-",n),void 0!==c&&a.splice(k,1));n.startsWith("duration-")&&(g=$a("duration-",n),void 0!==g&&a.splice(k,1))}a=a.join();var u=Xa(a);if(void 0===c){c=
u["--pp-delay"];if(void 0===c)throw Error("In class '"+a+"' : found no css style --pp-delay!");delete u["--pp-delay"];c=tb(c,a)}if(void 0===h)if(k=u["--pp-skippable"],"true"===k)h=!0;else if("false"===k)h=!1;else if(void 0!==k)throw Error("In class '"+a+"', style  --pp-skippable: "+k+";   : the only allowed values are [true, false], but found '"+k+"' !");void 0===h&&(h=!1);n=u["--pp-transition-precision"];delete u["--pp-transition-precision"];var p=u["transition-property"];delete u["transition-property"];
k={};for(var J in u)p&&p.includes(J)||"transition"===J||"-webkit-transition"===J||J.startsWith("transition-")||J.startsWith("-webkit-transition-")||J.startsWith("animation-")||J.startsWith("--pp-")||(k[J]=u[J]);if(0===Object.keys(k).length&&!p)return f("In class '"+a+"' : found no css transformations and no other styles! Ignoring it."),[];if(!p){if(0===Object.keys(k).length)throw Error("In class '"+a+"' : found no css transformations and no other styles!");if(n=Za(d))"visible"===k.visibility&&(n.la=
c),"hidden"===k.visibility&&(n.xa=c);return[{transitionProperty:void 0,da:a,D:d,video:n,aa:k,V:h,G:[],s:0,c:c,W:!1,X:!1}]}J=g;if(void 0===J){g=u["transition-duration"];if(void 0===g)throw Error("In class '"+a+"' : found no css style transition-duration!");delete u["transition-duration"];J=ub(g,a)}var D=u["transition-timing-function"];delete u["transition-timing-function"];D||(D=u["--pp-transition-timing-function"]);delete u["--pp-transition-timing-function"];D||(f("In class '"+a+"' : cound not find neither of styles: transition-timing-function, --pp-transition-timing-function! Will use 'linear' instead."),
D="linear");var Q=p.split(",").map(function(V){return V.trim()});g=[];var M={};Q=W(Q);for(var G=Q.next();!G.done;M={S:M.S,N:M.N},G=Q.next()){M.S=G.value;M.N=[];Object.keys(u).forEach(function(V){return function(N){if(N.startsWith("--pp-"+V.S+"-")){var O=N.substr(("--pp-"+V.S+"-").length);if("initial"==O||"from"==O||"00"==O||"0"==O)V.N.push({K:0,M:u[N]});else{O=parseInt(O,10);if(isNaN(O))throw alert("Invalid play script! Developer, see the browser console for more info."),Error("Could not parse number from CSS style name '"+
N+"' Expected something like '--pp-"+V.S+"-50' !");if(0>O||100<O)throw alert("Invalid play script! Developer, see the browser console for more info."),Error("Could not parse number from CSS style name '"+N+"' Expecting a number from 0..100 but found "+O+" !");V.N.push({K:O,M:u[N]})}}}}(M));G=u[M.S];if(void 0===G)throw Error("In class '"+a+"' : found 'transition-property:"+M.S+"', but there is no "+M.S+":... style! cssStylesObj="+Ta(u));M.N.push({K:100,M:G});M.N.sort(function(V,N){return V.K-N.K});
if(0!==M.N[0].K)throw alert("Invalid play script! Developer, see the browser console for more info."),Error("In class '"+a+"' : found transition-property:"+p+", but there is no '--pp-"+p+"-initial' (or '--pp-"+p+"-from' or '--pp-"+p+"-00') style!");if(100!==M.N[M.N.length-1].K)throw alert("Invalid play script! Developer, see the browser console for more info."),Error("Invalid logic!");G=vb(a,M.S,M.N,J,D,n);G.V=h;G.D=d;G.c=c;b("Generated "+p+" ppScript "+JSON.stringify(G));g.push(G)}if(0!==Object.keys(k).length){if(n=
Za(d))"visible"===k.visibility&&(n.la=c),"hidden"===k.visibility&&(n.xa=c);g.push({transitionProperty:void 0,da:a,D:d,video:n,aa:k,V:h,G:[],s:0,c:c,W:!1,X:!1})}return g}function vb(a,d,c,g,h,k){var n=void 0!==k?parseInt(k,10):2;if(isNaN(n))throw alert("Invalid play script! Developer, see the browser console for more info."),Error("In class '"+a+"' : could not parse valueRoundingDigits from css style '--pp-transition-precision:"+k+"' into a number!");if(0>n||5<n)throw alert("Invalid play script! Developer, see the browser console for more info."),
Error("In class '"+a+"' : could not parse valueRoundingDigits from css style '--pp-transition-precision:"+k+"' : Expected an integer number from 0 to 5 !");void 0===k&&(n=1E3>=g?2:1E3<g&&1E4>=g?3:4);k={da:a,D:void 0,video:void 0,aa:{},s:g,transitionProperty:d,ab:d+" transition from "+c[0].M+" to "+c[c.length-1].M,L:void 0,ka:h,fa:[101],$a:void 0,W:!1,X:!1,Ia:void 0,Ja:void 0,ea:void 0};if("transform"!==d){var u=c[0].M,p=c[c.length-1].M;if(-1!=u.indexOf(" "))throw Error(d+" initial transition property value '"+
u+" should not contain any spaces!");if(-1!=p.indexOf(" "))throw Error(d+" transition property value '"+p+" should not contain any spaces!");c="";u.endsWith("%")?(c="%",u=u.substring(0,u.length-1)):u.endsWith("px")?(c="px",u=u.substring(0,u.length-2)):u.endsWith("deg")?(c="deg",u=u.substring(0,u.length-3)):u.endsWith("rad")&&(c="rad",u=u.substring(0,u.length-3));var J="";p.endsWith("%")?(J="%",p=p.substring(0,p.length-1)):p.endsWith("px")?(J="px",p=p.substring(0,p.length-2)):p.endsWith("deg")?(J=
"deg",p=p.substring(0,p.length-3)):p.endsWith("rad")&&(J="rad",p=p.substring(0,p.length-3));if(c!=J)throw Error("Found different suffix in initial transition value '"+u+c+"' from the suffix in transition value '"+p+J+"' : '"+c+"' vs '"+J+"' !");c=transitionTimingFunctions[h];c||(f("In class '"+a+"' : no such transition timing function: '"+h+"' ! Will use 'linear' instead."),c=transitionTimingFunctions.linear);a=parseFloat(u);u=parseFloat(p);p=Math.round((u-a)*Math.pow(10,n))/Math.pow(10,n);g={G:[],
c:0,s:g,L:function(N){return N+J}};g.G.push({ka:h,transitionTimingFunction:c,Ca:a,Ha:u,Ea:n,ya:p,Qa:0<=p});for(n=0;100>=n;n++)k.fa[n]=g}else{u=c[0].M;p=u.match(/\S+/g)||[];if(0==p.length||6<p.length)throw Error("We support 1 to 6 transform variables, but "+p.length+" were found in string '"+u+"' in css class '"+a+"' !");d=h.match(/\S+/g)||[];if(1!==d.length&&d.length!==p.length)throw Error("Expected transition-timing-function value '"+h+"' to have 1 or "+p.length+" tokens, but found only "+d.length+
" tokens!");h={};for(var D=1;D<c.length;h={T:h.T},D++){var Q=c[D],M=c[D-1],G=Q.M.match(/\S+/g)||[];if(G.length!=p.length)throw Error("Expected '"+Q.M+" to have equal amount of 'tokens' to '"+u+"' ! Compared "+G.length+" with "+p.length+".");G={G:void 0,c:g*M.K/100,s:g*(Q.K-M.K)/100};for(var V=M.K;V<=Q.K;V++)k.fa[V]=G;V=[];h.T=wb(V,Q.M,M.M,n,d,a);G.G=V;if(0==G.G.length)G.L=function(N){return function(){return N.T}}(h);else if(1==G.G.length)G.L=function(N){return function(O){return N.T.replace(va,O)}}(h);
else if(2==G.G.length)G.L=function(N){return function(O,qa){return N.T.replace(va,O).replace(xa,qa)}}(h);else if(3==G.G.length)G.L=function(N){return function(O,qa,ra){return N.T.replace(va,O).replace(xa,qa).replace(Ca,ra)}}(h);else if(4==G.G.length)G.L=function(N){return function(O,qa,ra,ya){return N.T.replace(va,O).replace(xa,qa).replace(Ca,ra).replace(La,ya)}}(h);else if(5==G.G.length)G.L=function(N){return function(O,qa,ra,ya,Ma){return N.T.replace(va,O).replace(xa,qa).replace(Ca,ra).replace(La,
ya).replace(ab,Ma)}}(h);else if(6==G.G.length)G.L=function(N){return function(O,qa,ra,ya,Ma,xb){return N.T.replace(va,O).replace(xa,qa).replace(Ca,ra).replace(La,ya).replace(ab,Ma).replace(yb,xb)}}(h);else throw Error("Internal error!");}for(n=0;100>=n;n++)if(void 0===k.fa[n])throw Error("Internal error: the ppInterval at offset "+n+" is undefined in ppScript for class name '"+a+"' !");}n=k.fa[0];g=Na(n,n.c);k.Da=n.L.apply(n,ta(g));n=k.fa[100];g=Na(n,k.s-n.c);k.Pa=n.L.apply(n,ta(g));return k}function wb(a,
d,c,g,h,k){var n=[],u=c.match(/\S+/g)||[],p=d.match(/\S+/g)||[];if(u.length!=p.length)throw Error("Error while comparing strings '"+c+"' and '"+d+"' : Expected both to have the same amount of 'tokens', however they don't match: "+u.length+" vs. "+p.length+" !");if(0==p.length||6<p.length)throw Error("We support 1 to 6 transform variables, but "+p.length+" were found in string '"+d+"' in css class '"+k+"' !");for(var J=1,D=0;D<p.length;D++)if(u[D]===p[D])n.push(u[D]);else{var Q=bb(u[D],J),M=bb(p[D],
J);J++;if(Q[1]!==M[1])throw Error("Data from string '"+c+"'does not match with data from string '"+d+"': '"+Q[1]+"' vs '"+M[1]+"' !");Q=parseFloat(Q[0]);var G=parseFloat(M[0]),V=Math.round((G-Q)*Math.pow(10,g))/Math.pow(10,g),N=1==h.length?h[0]:h[D],O=transitionTimingFunctions[N];O||(f("In class '"+k+"' : no such transition timing function: '"+N+"' ! Will use 'linear' instead."),O=transitionTimingFunctions.linear);a.push({transitionTimingFunction:O,Ca:Q,Ha:G,Ea:g,ya:V,Qa:0<=V});n.push(M[1])}return n.join(" ")}
function ub(a,d){if("0"===a)var c=0;else if(a.endsWith("s"))c=parseInt(1E3*parseFloat(a.substr(0,a.length-1)),10);else if(a.endsWith("ms"))c=parseInt(parseFloat(a.substr(0,a.length-2)),10);else throw alert("Invalid play script! Developer, see the browser console for more info."),Error("In class '"+d+"' : could not parse transition-duration:"+a+"   : expected to find 's' or 'ms' at the end!");if(isNaN(c))throw alert("Invalid play script! Developer, see the browser console for more info."),Error("In class '"+
d+"' : could not parse durationMs from css style 'transition-duration:"+a+"' into a number of millis! Invalid decimal!");return c}function tb(a,d){if("0"===a)var c=0;else if(a.endsWith("s"))c=parseInt(1E3*parseFloat(a.substr(0,a.length-1)),10);else if(a.endsWith("ms"))c=parseInt(parseFloat(a.substr(0,a.length-2)),10);else throw alert("Invalid play script! Developer, see the browser console for more info."),Error("In class '"+d+"' : could not parse --pp-delay:"+a+" : expected to find 's' or 'ms' at the end!");
if(isNaN(c))throw alert("Invalid play script! Developer, see the browser console for more info."),Error("In class '"+d+"' : could not parse delayMs from css style '--pp-delay:"+a+"' into a number of millis! Invalid decimal!");return c}function $a(a,d){if(d&&d.startsWith(a)){a=d.substr(a.length).trim();if("0"===a)var c=0;else a.endsWith("s")?c=parseInt(1E3*parseFloat(a.substr(0,a.length-1)),10):a.endsWith("ms")?c=parseInt(parseFloat(a.substr(0,a.length-2)),10):(f("In class '"+d+"' : could not parse time from '"+
a+"' : expected to find 's' or 'ms' at the end!"),c=void 0);isNaN(c)&&(f("In class '"+d+"' : could not parse time from '"+a+"' into a number of millis! Invalid decimal!"),c=void 0);return c}}function bb(a,d){var c=a.indexOf("(");if(-1==c)throw Error("Cound not find '(' in '"+a+"' !");if(-1!=a.indexOf("(",c+1))throw Error("Found more than one '(' in '"+a+"' !");var g=a.indexOf(")",c+1);if(-1==g)throw Error("Cound not find ')' after '(' in '"+a+"' !");if(-1!=a.indexOf(")",g+1))throw Error("Found more than one ')' after '(' in '"+
a+"' !");var h="",k=a.substring(c+1,g);if(0==k.length)throw Error("Found empty string in the (...) brackets in '"+a+"' !");k.endsWith("%")?(h="%",k=k.substring(0,k.length-1)):k.endsWith("px")?(h="px",k=k.substring(0,k.length-2)):k.endsWith("deg")?(h="deg",k=k.substring(0,k.length-3)):k.endsWith("rad")&&(h="rad",k=k.substring(0,k.length-3));return[k,a.substring(0,c+1)+"["+d+"]"+h+a.substring(g)]}function cb(a){zb(a);X=a;requestAnimationFrame(cb)}function Oa(a){0!=a.W&&(a.ja?(Object.keys(a.ja).forEach(function(d){a.D.style[d]=
a.ja[d]}),a.W=!1):f("ppScript.initialStylesUndo is undefined!"))}function Pa(a){a.X||(a.transitionProperty&&(a.D.style[a.transitionProperty]=a.Pa,a.ea=void 0),a.X=!0)}function Qa(a){0!=a.X&&(a.transitionProperty&&(a.D.style[a.transitionProperty]=a.Da,a.ea=void 0),a.X=!1)}function Da(a,d){if(!a.W&&!a.ja){a.ja={};var c=window.getComputedStyle(a.D,null);Object.keys(a.aa).forEach(function(g){void 0!=c[g]&&(a.ja[g]=c[g])})}a.W||(Object.keys(a.aa).forEach(function(g){a.D.style[g]=a.aa[g];a.video&&"visibility"===
g&&!d&&y&&("visible"===a.aa[g]?a.video.J=!0:"hidden"===a.aa[g]&&(a.video.J=!1))}),a.transitionProperty&&(a.D.style[a.transitionProperty]=a.Da,a.ea=void 0),a.D.style["transition-duration"]="0",a.D.style["transition-timing-function"]="linear",a.transitionProperty&&(a.D.style["transition-property"]=a.transitionProperty),a.W=!0)}function Ra(a,d,c){0>d&&(f("Trying to play ppScript "+a.da+"to negative progressMs="+d+" !"),d=0);d>a.s?f("Trying to play ppScript "+a.da+"to progress beyond it's end: progressMs="+
d+" vs. endMs="+a.s+" !"):(a.X=!1,Da(a,c),a.transitionProperty)?d!==a.wa&&(a.wa=d,c=a.fa[Math.floor(d/a.s*100)],d=Na(c,d-c.c),d=c.L.apply(c,ta(d)),d!=a.ea&&(a.D.style[a.transitionProperty]=d,a.ea=d)):a.wa=d}function Na(a,d){var c=[a.G.length];d/=a.s;for(var g=0;g<a.G.length;g++){var h=a.G[g],k=h.transitionTimingFunction(d);c[g]=(h.Ca+h.ya*k).toFixed(h.Ea)}return c}function zb(a){if(ka){C?F=a-(H||0):F=a-v+(H||0);var d=H||0;x.playStarted(H||0,v);ka=!1;H=void 0;pa&&(pa=!1,C=!C,F=2*a-v-F,sa=a-200+1);
pb(C,d);X=a}else if(ja)H=C?a-F:v-a+F,H=!H||0>H?0:H,F=void 0,x.playPaused(H,v),ja=!1,X=a;else if(pa&&(pa=!1,y?(C=!C,F=2*a-v-F,sa=a-200+1):f("Ignoring requestingPlayDirectionChange: nothing is currently playing.")),0<ea)void 0!=F&&y&&!I&&(F=F+a-X),X=a;else if(void 0!=F&&y&&x.progressUpdate&&200<a-sa&&(x.progressUpdate(null,C?a-F:v-a+F,v,!1),sa=a),y||void 0!==B)if(void 0===B)if(d=a-F,C){S&&0<d&&d<v&&(S=!1);for(a=0;a<m.A.length;a++){var c=m.A[a].P;c.c+c.s<d?(Da(c,!1),Pa(c)):c.c<=d?Ra(c,d-c.c,!1):(Qa(c),
Oa(c,d))}!I&&d>=v&&(I=!0,(ca=y)&&C&&(y=!1,H=v,F=void 0,x.playPaused(H,v)),x.progressUpdate&&x.progressUpdate(null,v,v,!0),x.performanceFinished&&x.performanceFinished(),R(),setTimeout(function(){Ba()},50));if(!I)for(d=W(aa),a=d.next();!a.done;a=d.next())a=a.value,!0===a.J?(a.J=void 0,T(a,a.ra)):!1===a.J&&(a.J=void 0,!1===a.l.paused&&(a.l.pause(),a.H=ba.paused))}else{I&&0<d&&d<v&&(I=!1);for(a=0;a<m.A.length;a++)c=m.A[m.A.length-a-1].P,v-(c.c+c.s)>d?(Da(c,!1),Pa(c)):v-c.c>=d?Ra(c,v-d-c.c,!1):(Qa(c),
Oa(c,d));!S&&d>=v&&(S=!0,(ca=y)&&0==C&&(y=!1,H=0,F=void 0,x.playPaused(H,v)),x.progressUpdate&&x.progressUpdate(null,0,v,!0),x.performanceFinishedBackward&&x.performanceFinishedBackward(),R(),setTimeout(function(){Ba()},50))}else{d=B;d=0>d?0:d;d=d>v?v:d;y?F=C?a-B:a-v+B:H=B;x.progressUpdate&&x.progressUpdate(null,B,v,!0);B=void 0;Va();for(a=0;a<m.A.length;a++)c=m.A[a].P,c.c+c.s<d?(Da(c,!0),Pa(c)):c.c<=d?Ra(c,d-c.c,!1):(Qa(c),Oa(c,d));!I&&d>=v?(I=!0,(ca=y)&&C&&(y=!1,H=v,F=void 0,x.playPaused(H,v)),
x.progressUpdate&&x.progressUpdate(null,v,v,!0),x.performanceFinished&&x.performanceFinished(),R(),setTimeout(function(){Ba()},50)):!S&&0>=d&&(S=!0,(ca=y)&&0==C&&(y=!1,H=0,F=void 0,x.playPaused(H,v)),x.progressUpdate&&x.progressUpdate(null,0,v,!0),x.performanceFinishedBackward&&x.performanceFinishedBackward(),R(),setTimeout(function(){Ba()},50))}else X=a}var Y=this;ppDocumentReady(function(){za.init()});var za=this,Ea={stageId:void 0,pompousEventNotifier:void 0,afterInit:void 0,autoStart:"true",autoRestartAtEnd:!1,
autoRestartAtStart:!1,startBlank:!0,designWidth:1920,designHeight:1080,stageBorderSize:0,audio:void 0,autoStartAudioMuted:!0,audioAutoLoop:!0,webfonts:void 0,loadNImagesAhead:10,logLevel:2,stageStyle:"background-color:black;"},w=void 0,U=void 0,db=1,ma=void 0,na=void 0,m={},x,ia=!1,eb=!1,y=!1,C=!0,Ka=!1,ka=!1,ja=!1,pa=!1,B=void 0,I=!1,S=!1,ca=!1,F=void 0,X=void 0,sa=void 0,H=void 0,v=-1,lb=Date.now(),Ia=!1,Ua=Date.now(),fa=!1,aa=[],ea=0,ba=Object.freeze({paused:1,playing:2,playrequested:3}),va=/\[1\]/g,
xa=/\[2\]/g,Ca=/\[3\]/g,La=/\[4\]/g,ab=/\[5\]/g,yb=/\[6\]/g,Aa=2;this.init=function(){if(eb)f("init() was already called. Will not call it again.");else{eb=!0;qb(e,Ea);rb(getPompousUrlParams(),Ea);w=Ea;Aa=w.logLevel&&!isNaN(w.logLevel)&&window.console?parseInt(w.logLevel,10):0;w.pompousEventNotifier&&"object"===typeof w.pompousEventNotifier?x=Ea.pompousEventNotifier:f("Invalid 'pompousEventNotifier' option. Expected a JS object.");if(!w.stageId)throw alert("Invalid play script! Developer, see the browser console for more info."),
Error("Player option 'stageId' not found!");U=document.getElementById(w.stageId);if(!U)throw alert("Invalid play script! Developer, see the browser console for more info."),Error("No such stage element in the DOM document: '"+w.stageId+"'!");x||(alert("Invalid play script! Developer, see the browser console for more info."),f("The 'pompousEventNotifier' presentation option is not set! Will use the default 'skin' PompousNoNavigation, which does nothing! This presentation will not play properly. Make sure the 'pompousEventNotifier' presentation option is set to some other skin; see the available skins in file pp-skins.js."),
x=new gb);x.initStarted(w,za);var a=document.createElement("div");a.setAttribute("data-description","Hi Mom, I need this div in full screen mode.");U.parentNode.replaceChild(a,U);a.appendChild(U);b("Setting stage to width="+w.designWidth+", height="+w.designHeight);U.style.width=w.designWidth+"px";U.style.height=w.designHeight+"px";if(!Modernizr.csstransforms)throw alert("Invalid play script! Developer, see the browser console for more info."),Error("csstransforms are not supported by this browser! Cannot continue.");
b("Auto-start is '"+w.autoStart+"'.");if(w.webfonts&&"object"===typeof w.webfonts){var d=w.webfonts;b("Loading web fonts "+JSON.stringify(d));d.Xa=void 0;d.Ua=void 0;d.Sa=void 0;d.Ta=void 0;if(d.google||d.typekit||d.custom||d.fontdeck||d.monotype)var c=new Promise(function(D){d.active=function(){D("webFontsLoaded success")};d.Va=function(){D("webFontsLoaded success via inactive callback")}});WebFont.load(d)}else w.webfonts&&f("Invalid 'webfonts' option. Expected a JS object.");if(a=w.stageStyle)b("Adding/Replacing following stage css styles: '"+
a+"'"),U.setAttribute("style",U.getAttribute("style")+"; "+a);m.U=[];var g=U.querySelectorAll("div[data-classes]");if(0==g.length)alert("Could not find anything to play!"),f("Could not find anything to play!");else{for(var h=0,k=[],n={id:0},u=0;u<g.length;u++)if(a=g[u],1==a.nodeType){var p="actor"+h;a.setAttribute("data-actor-id",p);p={id:p,Aa:a.getAttribute("data-class-initial")||"",Ya:a.getAttribute("class")||"",pa:h};m.U.push(p);p.A=[];q(a,p,n);h++;for(a=0;a<p.A.length;a++)k.push(p.A[a])}k.sort(function(D,
Q){return D.c-Q.c});m.A=k;m.O=t(k);m.b=P(m.O);b("script.animationsGroupedByDelay="+JSON.stringify(m.O));if(w.audio){a=document.createElement("audio");a.setAttribute("id",w.stageId+"-audio");a.setAttribute("autobuffer","");a.setAttribute("src",w.audio);g=W(U.querySelectorAll("audio"));for(h=g.next();!h.done;h=g.next())h.value.remove();U.appendChild(a);a.loop=w.audioAutoLoop}a=document.getElementById(w.stageId+"-audio");if(!0!==w.autoStart&&"true"!==w.autoStart||!w.autoStartAudioMuted){a&&(a.muted=
!1);g=W(aa);for(a=g.next();!a.done;a=g.next())a.value.l.muted=!1;fa=!1}else{a&&(a.muted=!0);g=W(aa);for(a=g.next();!a.done;a=g.next())a.value.l.muted=!0;fa=!0}ob();if(!w.startBlank)for(g=m.O[0],h=0;h<g.A.length;h++)a=z(g.A[h].pa),E("initially-visible",a,!1);g=[];c&&g.push(c);if(0!==w.loadNImagesAhead){var J=imagesLoaded(U,{background:"div"});c=new Promise(function(D){J.on("always",function(){D("imagesLoaded success")})});J.on("progress",function(D,Q,M){Q.isLoaded||f("Could not load image '"+Q.img.src+
"' !");x.imageLoaded(Q.img,D.images.length,M)})}else c=Promise.resolve("imagesLoaded immediate success, nothing to do : loadNImagesAhead="+w.loadNImagesAhead);c.then(function(D){b("imagesLoadedPromise finished with value '"+D+"'. Waiting for any other promises (e.g. html5 video loading) to complete.")});g.push(c);c={};h=W(aa);for(a=h.next();!a.done;c={ma:c.ma},a=h.next())c.ma=a.value,3<c.ma.l.readyState||(a=new Promise(function(D){return function(Q){D.ma.l.addEventListener("canplaythrough",function(){Q("video promise success in 'canplaythrough' event")},
!1)}}(c)),a.then(function(){}),g.push(a));b("Will wait for "+g.length+" promises to finish before we can play ...");Promise.all(g).then(function(D){b("All promises finished with value '"+D+"'");ia=!0;x.initFinished(w,v);if("boolean"===typeof w.autoStart)w.autoStart?ua(!0):H=0;else if("string"===typeof w.autoStart)switch(w.autoStart){case "true":ua(!0);break;case "false":H=0;break;case "jump_to_1st_nonskippable":za.playNextAnimation();break;case "jump_to_time_0":za.jumpToTime(0,!1);break;default:f("Invalid 'autoStart' option: '"+
w.autoStart+"' ! Choosing 'false' for you."),H=0}else f("Invalid 'autoStart' option: '"+w.autoStart+"' ! Choosing 'false' for you."),H=0});L();requestAnimationFrame(function(D){sa=D;cb(D)});(c=w.afterInit)||(c=function(){updateStageScale(Y,void 0)});if("function"!==typeof c)throw alert("Invalid play script! Developer, see the browser console for more info."),Error("Player option 'afterInit' is not a function! If you don't know how to set it, just leave it blank.");try{c()}catch(D){window.console.error&&
1<=Aa&&l("The call to afterInit() errored out: ",window.console.error),console.log(D.stack)}}}};this.getStageElement=function(){return U};this.getOptions=function(){return w};this.playPreviousAnimation=function(){return C?Y.h():Y.a()};this.playPreviousAnimationBackward=function(){C&&(y&&(F=2*X-v-F,sa=X-200+1),pa=C=!1);return Y.a()};this.a=function(){if(!ia)return f("Requesting play-previous before init finished. Ignoring it."),0;if(0<ea)return f("One or more videos are currently loading. The player is blocked. Ignoring this 'play previous animation' request."),
0;if(C)return f("This code is meant to be used while playing backward (either during play or pause), but here playingForward is true!"),0;R();var a=Y.getCurrentPlayTimeCountedFromLeftStart();if(S)return 0;I&&(I=!1,y||!0!==ca||(ka=y=!0,ja=!1));if(a>=v)return a=m.b.length-1,!y&&!ca&&1<a&&a--,B=m.b[a].c+m.b[a].I,A(),K(m.b[a].C),B;for(var d,c=m.b.length-1;0<=c;c--){if(c==m.b.length-1&&a>m.b[c].c+m.b[c].I)return B=m.b[c].c+m.b[c].I,A(),K(m.b[c].C),B;d=0==c?0:m.b[c-1].c+m.b[c-1].I;var g=m.b[c].c+m.b[c].I;
b("In playPreviousAnimationWhilePlayingBackward: i="+c+" : playDurationMs="+a+"; playingForward="+C+"; Looking at range "+d+" to "+g+" (inclusive)");if(d<a&&g>=a)return B=d,A(),K(0==c?-1:m.b[c-1].C),B}0<a?(B=0,A(),K(-1)):b("Cannot play any more backwards!");return 0};this.h=function(){if(!ia)return f("Requesting play-previous before init finished. Ignoring it."),0;if(0<ea)return f("One or more videos are currently loading. The player is blocked. Ignoring this 'play previous animation' request."),
0;if(!C)return f("This code is meant to be used while playing forward (either during play or pause), but here playingForward is false!"),0;R();var a=Y.getCurrentPlayTimeCountedFromLeftStart();if(S)return 0;I&&(I=!1,y||!0!==ca||(ka=y=!0,ja=!1));for(var d,c=m.b.length-1;0<=c;c--){if(a>=v)return B=m.b[c].c,A(),K(m.b[c].C),B;if(c==m.b.length-1&&a>m.b[c].c)return d=m.b[c].c,1E3>a-d?(B=0==c?0:m.b[c-1].c,A(),K(0==c?-1:m.b[c-1].C)):(B=m.b[c].c,A(),K(m.b[c].C)),B;d=0==c?0:m.b[c-1].c;if(d<a&&m.b[c].c>=a)return 1E3>
a-d?(B=1>=c?0:m.b[c-2].c,A(),K(1>=c?-1:m.b[c-2].C)):(B=0==c?0:m.b[c-1].c,A(),K(0==c?-1:m.b[c-1].C)),B}0<a?(B=0,A(),K(-1)):b("Cannot play any more backwards!");return 0};this.playNextAnimationForward=function(){C||(y&&(F=2*X-v-F,sa=X-200+1),C=!0,pa=!1);return Y.playNextAnimation()};this.playNextAnimation=function(){return C?Y.g():Y.f()};this.g=function(){if(!ia)return f("Requesting play-next before init finished. Ignoring it."),0;if(0<ea)return f("One or more videos are currently loading. The player is blocked. Ignoring this 'play next animation' request."),
0;C||f("This code is meant to be used while playing forward (either during play or pause), but here playingForward is false!");var a=y?X-F:H||0;if(I)return v;S&&(S=!1,y||!0!==ca||(ka=y=!0,ja=!1));R();for(var d=0;d<m.b.length;d++){if(0==d&&a<m.b[0].c)return B=m.b[0].c,A(),K(m.b[0].C),B;if((0==d?0:m.b[d-1].c)<=a&&m.b[d].c>a)return B=m.b[d].c,A(),K(m.b[d].C),B}if(a<v)return B=v,A(),K(m.O.length),B;b("Cannot play any furher!");return v};this.f=function(){if(!ia)return f("Requesting play-next before init finished. Ignoring it."),
0;if(0<ea)return f("One or more videos are currently loading. The player is blocked. Ignoring this 'play next animation' request."),0;C&&f("This code is meant to be used while playing backward (either during play or pause), but here playingForward is true!");if(I)return v;R();var a=Y.getCurrentPlayTimeCountedFromLeftStart();if(S)return S=!1,y||!0!==ca||(ka=y=!0,ja=!1),B=m.b[0].c+m.b[0].I,A(),K(m.b[0].C),B;if(a>=v)return v;for(var d,c=m.b.length-1;0<=c;c--){if(c==m.b.length-1&&a>m.b[c].c+m.b[c].I)return B=
v,A(),I=!0,ca=y,B;d=0==c?0:m.b[c-1].c+m.b[c-1].I;var g=m.b[c].c+m.b[c].I;if(d<a&&g>=a)return 1E3>g-a?(B=c==m.b.length-1?v:m.b[c+1].c+m.b[c+1].I,A(),K(c==m.b.length-1?m.b[c].C:m.b[c+1].C)):(B=g,A(),K(m.b[c].C)),B}0<a&&(B=0,A(),K(-1));return 0};this.jumpTo=function(a,d){this.jumpToTime(a*v/100,d)};this.jumpBy=function(a,d){ia?0<ea?f("One or more videos are currently loading. The player is blocked. Ignoring this 'jump-to' request."):this.jumpToTime((y?C?X-F:v-X+F:H)+a,d):f("Requesting jump-by before init finished. Ignoring it.")};
this.jumpToTime=function(a,d){ia?0<ea?f("One or more videos are currently loading. The player is blocked. Ignoring this 'jump-to' request."):(0>a&&(a=0),a>v&&(a=v),B=a,(I||S)&&B<v?(I&&(I=!1),S&&(S=!1),y||!0!==ca||(ka=y=!0,ja=!1),A()):!y&&d?ua(void 0):A()):f("Requesting jump-to-time before init finished. Ignoring it.")};this.getCurrentPlayTime=function(){return y?X-F:C?H:v-H};this.getCurrentPlayTimeCountedFromLeftStart=function(){return y?C?X-F:v-X+F:H||0};this.getTotalPlayDuration=function(){return v};
this.restartFromBeginning=function(){ia?0<ea?f("One or more videos are currently loading. The player is blocked. Ignoring this 'restart from beginning' request."):ha():f("Requesting play/pause/resume/rewind before init finished. Ignoring it.")};this.togglePlayPauseResume=function(a){if(ia)if(0<ea)f("One or more videos are currently loading. The player is blocked. Ignoring this 'toggle play/pause/resume' request.");else{if(R(),!I||!a)if(y){ka=y=!1;ja=!0;(a=document.getElementById(w.stageId+"-audio"))&&
a.pause();a=W(aa);for(var d=a.next();!d.done;d=a.next())d=d.value,d.J=void 0,!1===d.l.paused&&(d.l.pause(),d.H=ba.paused,fb(x,"videoPlayPaused"))}else ua(a)}else f("Requesting play/pause/resume before init finished. Ignoring it.")};this.togglePlayPauseResumeRewind=function(a){ia?0<ea?f("One or more videos are currently loading. The player is blocked. Ignoring this 'toggle play/pause/resume/rewind' request."):(R(),I&&a?Y.restartFromBeginning():Y.togglePlayPauseResume(a)):f("Requesting play/pause/resume/rewind before init finished. Ignoring it.")};
this.whatNonskippableAnimationIsAt=function(a){for(var d=0;d<m.b.length;d++)for(var c=m.b[d],g=0;g<c.A.length;g++){var h=c.A[g].P;if(0!==h.s&&(C&&a>=h.c&&a<h.c+h.s||!C&&a>h.c&&a<=h.c+h.s))return a-=h.c,{da:h.da,s:h.s,c:h.c,ka:h.ka,Za:a,Ba:C?h.s-a:a}}};this.isPaused=function(){return!y};this.isForward=function(){return C};this.changePlayDirection=function(a){y?!C&&a?pa=!0:C&&!a&&(pa=!0):!C&&a?C=!0:C&&!a&&(C=!1)};this.isAudioOn=function(){return document.getElementById(w.stageId+"-audio")||Y.hasAnyVideos()?
!fa:!1};this.toggleAudioOnOff=function(){var a=document.getElementById(w.stageId+"-audio");if(a||Y.hasAnyVideos()){fa=!fa;if(a)if(a.muted&&!fa){b("Unmuting audio. audio.paused="+a.paused+"; playing="+y+"; performanceFinished="+I);var d=Y.getCurrentPlayTimeCountedFromLeftStart();Z(d);a.muted=!1}else!a.muted&&fa&&(b("Muting audio."),a.muted=!0);a=W(aa);for(d=a.next();!d.done;d=a.next())(d=d.value,fa)?fa&&(d.l.muted=!0):d.l.muted=!1;x.audioMutedUnmuted(fa)}};this.hasAnyVideos=function(){return 0<aa.length};
this.hasAudioOrVideos=function(){return document.getElementById(w.stageId+"-audio")||0<aa.length};this.isAnyVideoBuffering=function(){return 0<ea};this.isReady=function(){return ia};this.isInFullScreen=function(){return document.fullscreenElement&&null!==document.fullscreenElement||document.webkitFullscreenElement&&null!==document.webkitFullscreenElement||document.mozFullScreenElement&&null!==document.mozFullScreenElement||document.msFullscreenElement&&null!==document.msFullscreenElement};this.toggleFullScreen=
function(){var a=U.parentNode;if(Y.isInFullScreen())document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();else{a.Oa?a.Oa():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen();a=screen.width;var d=screen.height;a=a/d<w.designWidth/w.designHeight?
(a-2*w.stageBorderSize)/w.designWidth:(d-2*w.stageBorderSize)/w.designHeight;a=Math.round(100*a)/100;za.scaleStage(a);Modernizr.touchevents&&window.scrollTo(0,1)}};this.scaleStage=function(a){db=a;U.style.transform="translate(-50%, -50%) scale("+a+")";b("Scaled stage to scale="+a)};this.getStageScale=function(){return db}};function gb(){}r=gb.prototype;r.initStarted=function(){};r.initFinished=function(){};r.imageLoaded=function(){};r.waitingForVideoToPlay=function(){};r.videoPlayStarted=function(){};
r.videoPlayPaused=function(){};r.videoPlayErrored=function(){};r.progressUpdate=function(){};r.onPrevOrNextAnimationChange=function(){};r.reset=function(){};r.playStarted=function(){};r.playPaused=function(){};r.performanceFinished=function(){};r.audioMutedUnmuted=function(){};r.fullScreenChanged=function(){};r.toggleShowHideShareMenu=function(){};r.copyPresentationUrlToClipboard=function(){};r.shareViaGmail=function(){};/*
 Pompous Player v24 Skins.

 @license Copyright (c) 2020 Pompous Media LLC. All rights reserved.
 Subject to the terms at 
 https://github.com/TorZidan/PompousPlayer/blob/master/STANDARD_LICENSE 
 and https://www.pompousphotos.com/commercial_license

 There are two ways to use the PompousPlayer: 
 - use files pp-dependencies.js and pp-player.min.js and pp-skins.js 
 - use file pp-all-in-one.min.js

 The code is annotated so that it can be minified/compiled using the google
 closure compiler, but there is no need to do that: file pp-player.min.js
 already includes this code, minified.
*/
window.PompousMobileTouchListener=function(e,b){var f=null,l=null;e="string"===typeof e?document.querySelector(e):e;e.addEventListener("touchstart",function(t){f=t.touches[0].clientX;l=t.touches[0].clientY},!1);e.addEventListener("touchmove",function(t){e!==document&&t.preventDefault();if(f&&l){var P=f-t.touches[0].clientX;t=l-t.touches[0].clientY;100<Math.abs(P)+Math.abs(t)&&(Math.abs(P)>Math.abs(t)?0<P?b("left"):b("right"):0<t?b("up"):b("down"),l=f=null)}},!1)};
window.PompousCarouselMobileTouchListener=function(e){var b={linear:function(L){return L},ease:BezierEasing(.1,.25,1,.25),"ease-in":BezierEasing(0,.42,1,1),"ease-out":BezierEasing(0,0,1,.58),"ease-in-out":BezierEasing(0,.42,1,.58)},f=void 0,l=void 0,t=!1,P=void 0,q=null,z=e.getStageElement(),E=e.getStageScale()*z.offsetWidth,A=!1,T=!1,Z=void 0,da=void 0,K=void 0,R=void 0;z.addEventListener("touchstart",function(L){e.isReady()&&!e.isAnyVideoBuffering()&&(t=!0,P=void 0,q=L.touches[0].clientX,Z?clearTimeout(Z):
(T=e.isAudioOn(),A=e.isPaused()),e.isPaused()||e.togglePlayPauseResume(void 0),e.isAudioOn()&&e.toggleAudioOnOff())},!1);z.addEventListener("touchmove",function(L){L.preventDefault();if(e.isReady()&&!e.isAnyVideoBuffering()){var ha=q-L.touches[0].clientX;if(!(t&&5>=Math.abs(ha)))if(t){t=!1;L=0<=ha;e.changePlayDirection(L);var wa=e.getCurrentPlayTimeCountedFromLeftStart(),oa=e.whatNonskippableAnimationIsAt(wa);P=void 0===(oa?oa.Ba:void 0)||void 0!==Z&&R===L?0<=ha?e.playNextAnimation():e.playPreviousAnimation():
wa;oa=e.whatNonskippableAnimationIsAt(P);oa||(console.warn("Cound not find what's playing at touch-start play position "+P+" millis. Choosing some default values."),oa={s:1E3,ka:"linear"});ha=oa.s||1E3;da=ha*q/E;K=ha*(E-q)/E;f=b[oa.ka]||b.linear;l=f(1);R=L}else q&&P&&(e.isForward()?(L=da*f(ha/q)/l,e.jumpToTime(P+L,!1)):(L=f((E-q- -1*ha)/(E-q))/l,e.jumpToTime(P-K*(1-L),!1)))}},!1);z.addEventListener("touchend",function(){if(e.isReady()&&!e.isAnyVideoBuffering()){t=!1;P=void 0;var L=e.getCurrentPlayTimeCountedFromLeftStart();
L=(L=e.whatNonskippableAnimationIsAt(L))?L.Ba:void 0;!e.isPaused()||void 0===L&&A||e.togglePlayPauseResume(void 0);void 0!==L?Z=setTimeout(function(){R=Z=void 0;A&&!e.isPaused()&&e.togglePlayPauseResume(void 0);T&&!e.isAudioOn()&&e.toggleAudioOnOff()},L+50):(R=Z=void 0,A&&!e.isPaused()&&e.togglePlayPauseResume(void 0),T&&!e.isAudioOn()&&e.toggleAudioOnOff())}},!1)};
function hb(e){var b=this;this.f=void 0;this.ca=e.stageId;this.na=this.w=this.R=this.ga=this.h=this.u=this.m=this.F=this.ha=this.o=this.v=this.i=this.j=this.g=this.a=this.B=void 0;this.ta=this.oa=!1;this.sa=0;this.Z=this.ba=!1;this.Y=!0;this.ua=this.ia=!1;ppDocumentReady(function(){b.B=$("#"+b.ca);if(0===b.B.length)throw alert("Invalid play script! Developer, see the browser console for more info."),Error("No such stage element in the DOM document: '"+b.ca+"'!");b.a=$("#"+b.ca+" .pp-selector-video-like-navigation");
b.g=b.a.find(".pp-selector-play-pause-resume-button");b.j=b.a.find(".pp-selector-prev-animation-button");b.i=b.a.find(".pp-selector-next-animation-button");b.v=b.a.find(".pp-selector-rewind-to-beginning-button");b.o=b.a.find(".pp-selector-audio-on-off-button");b.ha=b.a.find(".pp-selector-full-screen-button");b.F=b.a.find(".pp-selector-status-bar");b.m=b.a.find(".pp-selector-progress-container");b.u=b.a.find(".pp-selector-progress-track");b.h=b.a.find(".pp-selector-progress-handle");b.ga=b.a.find(".pp-selector-nav-current-play-time");
b.R=b.a.find(".pp-selector-share-button");b.w=b.a.find(".pp-selector-share-menu");b.a.css("opacity",1);b.j.css("cursor","default");b.j.css("opacity",.5);b.i.css("cursor","default");b.i.css("opacity",.5);b.v.html("<i class='fas fa-fw'></i>");b.v.css("cursor","default");b.g.html("<i class='fas fa-play'></i>");b.g.css("cursor","default");b.g.css("opacity",.5);!b.R.length||!0!==e.hideShareButton&&"true"!==getPompousUrlParams().hideShareButton?b.R.css("cursor","pointer"):b.R.css("display","none");!0!==
e.hideAudioButton&&"true"!==getPompousUrlParams().hideAudioButton||b.o.css("display","none");!0===e.hideFullScreenButton||"true"===getPompousUrlParams().hideFullScreenButton?b.ha.css("display","none"):b.ha.css("cursor","pointer");["touchstart","touchmove","touchend"].forEach(function(l){b.a.get(0).addEventListener(l,function(t){t.stopPropagation()})});["mousedown","touchstart"].forEach(function(l){b.h.get(0).addEventListener(l,function(t){t.stopPropagation();b.ia=!0;b.ba&&(b.f.togglePlayPauseResume(void 0),
b.ua=!0)})});["mousemove","touchmove"].forEach(function(l){b.B.get(0).addEventListener(l,function(t){b.ia&&b.f&&(t=(t.pageX-b.m.offset().left)/b.f.getStageScale(),10>t&&(t=0),t>b.m.width()/b.f.getStageScale()-2&&(t=b.m.width()/b.f.getStageScale()),b.h.css("left",t))})});b.h.get(0).addEventListener("click",function(l){l.stopPropagation()});b.m.get(0).addEventListener("click",function(l){if(b.f){l=l.pageX-b.m.offset().left;10>l?l=0:l>b.m.width()-2&&(l=b.m.width());var t=100*l/b.m.width();b.h.css("left",
l+"");b.f.jumpTo(t,null)}});["mouseup","touchend"].forEach(function(l){document.addEventListener(l,function(t){if(b.ia){t=t.pageX-b.m.offset().left;10>t?t=0:t>b.m.width()-2&&(t=b.m.width());var P=100*t/b.m.width();b.h.css("left",t+"");b.f.jumpTo(P,b.ua)}b.ia=!1;b.ua=!1})});b.a.get(0).onmouseenter=function(){b.oa=!0};b.a.get(0).onmouseleave=function(){b.oa=!1};b.B.get(0).onmousemove=function(){b.ta||(b.ta=!0,setTimeout(function(){b.ta=!1},1E3),clearTimeout(b.na),b.a.css("opacity",1),b.na=setTimeout(function(){!b.oa&&
b.ba&&b.a.css("opacity",0)},5E3))};document.addEventListener("click",function(l){(l=l.target)&&l instanceof Node&&0<b.w.length&&!b.w.get(0).contains(l)&&b.R.length&&!b.R.get(0).contains(l)&&b.w.css("display","none")});var f;$("meta[property='pp:presentation_id']").length?f=document:f=b.B.get(0);f.addEventListener("keydown",function(l){clearTimeout(b.na);b.a.css("opacity",1);b.na=setTimeout(function(){!b.oa&&b.ba&&b.a.css("opacity",0)},5E3);"s"!==l.key&&b.w.css("display","none");if(!(l.ctrlKey||l.altKey||
l.shiftKey))switch(l.key){case " ":b.f.togglePlayPauseResume(!0);break;case "ArrowLeft":b.f.playPreviousAnimation();break;case "ArrowRight":b.f.playNextAnimation();break;case "b":b.f.togglePlayPauseResume(!1);break;case "m":b.f.toggleAudioOnOff();break;case "r":b.f.restartFromBeginning();break;case "s":b.toggleShowHideShareMenu(l);break;case "f":b.f.jumpBy(100,!1);break;case "d":b.f.jumpBy(-100,!1)}})})}r=hb.prototype;
r.initStarted=function(e,b){this.f=b;0!==e.loadNImagesAhead?this.F.html("Loading presentation ... "+this.sa+" images out of "+e.loadNImagesAhead+" loaded"):this.F.html("Loading presentation ... ")};
r.initFinished=function(e,b){$("#"+this.ca+" .pp-selector-video-like-splash").css("visibility","hidden");this.F.html("");this.g.html("<i class='fas fa-play'></i>");this.g.css("cursor","pointer");this.g.css("opacity",1);this.i.css("cursor","pointer");this.i.css("opacity",1);this.ga.text("0:00");$("#"+this.ca+" .pp-selector-nav-slash").text("/");$("#"+this.ca+" .pp-selector-nav-total-play-time").text(ib(b));this.f.hasAudioOrVideos()?(this.f.isAudioOn()?this.o.html("<i class='fas fa-volume-up'></i>"):
this.o.html("<i class='fas fa-volume-mute'></i>"),this.o.css("cursor","pointer")):(this.o.html(""),this.o.css("cursor","default"))};function ib(e){e=Math.round(e/1E3);var b=e%60;return Math.floor(e/60)+":"+(10>b?"0":"")+b}r.playStarted=function(e,b){this.ba=!0;this.g.html("<i class='fas fa-pause'></i>");e=0>e?0:e;e=e>b?b:e;b=100*e/b+"%";this.u.css("width",b);this.h.css("left",b);this.u.css("transition","none");this.h.css("transition","none");this.ga.text(ib(e))};
r.playPaused=function(e,b){this.ba=!1;this.g.html("<i class='fas fa-play'></i>");e=0>e?0:e;e=e>b?b:e;b=100*e/b+"%";this.u.css("width",b);this.h.css("left",b);this.u.css("transition","none");this.h.css("transition","none");this.ga.text(ib(e))};r.waitingForVideoToPlay=function(){this.F.html("Loading video ...")};r.videoPlayStarted=function(){this.F.html("")};r.videoPlayPaused=function(){this.F.html("")};r.videoPlayErrored=function(e){"AbortError"!==e.name&&this.F.html("Could not play video!")};
r.progressUpdate=function(e,b,f,l){this.ia?(this.u.css("transition","none"),this.h.css("transition","none")):(e&&this.F.html(e),b===f?(this.Z=!0,this.i.css("cursor","default"),this.i.css("opacity",.5)):this.Z&&b<f&&(this.Z=!1,this.i.css("cursor","pointer"),this.i.css("opacity",1),this.g.css("cursor","pointer"),this.g.css("opacity",1),this.v.html("<i class='fas fa-fw'></i>"),this.v.css("cursor","default")),0===b?(this.Y=!0,this.j.css("opacity",.5),this.j.css("cursor","default")):this.Y&&0<b&&(this.Y=
!1,this.j.css("opacity",1),this.j.css("cursor","pointer")),0<=b&&b<=f&&(e=100*b/f+"%",this.u.css("width",e),this.h.css("left",e),l?(this.u.css("transition","none"),this.h.css("transition","none")):(this.u.css("transition","width 200ms linear"),this.h.css("transition","left 200ms linear")),this.ga.text(ib(b))))};r.imageLoaded=function(e,b){this.sa++;this.F.html("Loading presentation ... "+this.sa+" images out of "+b+" loaded")};
r.onPrevOrNextAnimationChange=function(e,b,f){-1==b?(this.Y=!0,this.j.css("cursor","default"),this.j.css("opacity",.5)):(this.Y=!1,this.j.css("cursor","pointer"),this.j.css("opacity",1));b>f-1?(this.Z=!0,this.i.css("cursor","default"),this.i.css("opacity",.5),this.g.css("cursor","default"),this.g.css("opacity",.5),this.v.html("<i class='fas fa-sync-alt'></i>"),this.v.css("cursor","pointer")):(this.Z=!1,this.i.css("opacity",1),this.g.css("opacity",1),this.ba?(this.B.find(".pp-selector-play").css("display",
"none"),this.B.find(".pp-selector-pause").css("display","block")):(this.B.find(".pp-selector-play").css("display","block"),this.B.find(".pp-selector-pause").css("display","none")),this.B.find(".pp-selector-rewind").css("display","none"))};
r.reset=function(e,b){this.ba=!1;this.g.html("<i class='fas fa-play'></i>");this.g.css("opacity",1);this.Y=!0;this.Z=!1;this.j.css("cursor","default");this.j.css("opacity",.5);this.i.css("cursor","pointer");this.i.css("opacity",1);this.v.html("<i class='fas fa-fw'></i>");this.v.css("cursor","default");e?(b?this.o.html("<i class='fas fa-volume-mute'></i>"):this.o.html("<i class='fas fa-volume-up'></i>"),this.o.css("cursor","pointer")):this.o.html("");this.u.css("width","0%");this.h.css("left","0%");
this.u.css("transition","none");this.h.css("transition","none")};r.performanceFinished=function(){this.Z=!0;this.i.css("cursor","default");this.i.css("opacity",.5);this.g.css("cursor","default");this.g.css("opacity",.5);this.v.html("<i class='fas fa-sync-alt'></i>");this.v.css("cursor","pointer")};r.performanceFinishedBackward=function(){this.Y=!0;this.j.css("opacity",.5);this.j.css("cursor","default")};r.audioMutedUnmuted=function(e){e?this.o.html("<i class='fas fa-volume-mute'></i>"):this.o.html("<i class='fas fa-volume-up'></i>")};
r.fullScreenChanged=function(e){e?this.ha.html("<i class='fas fa-compress'></i>"):this.ha.html("<i class='fas fa-expand'></i>")};r.copyPresentationUrlToClipboard=function(){var e=document.createElement("textarea");e.value=window.location.href;e.setAttribute("readonly","");e.style.position="absolute";e.style.left="-9999px";document.body.appendChild(e);e.select();document.execCommand("copy");document.body.removeChild(e)};
r.shareViaGmail=function(){var e="\n"+document.title+"\n"+window.location.href+"\n";e="https://mail.google.com/mail/?view=cm&fs=1&su="+encodeURIComponent("Check out this slideshow")+"&body="+encodeURIComponent(e);window.open(e,"_blank")};
r.toggleShowHideShareMenu=function(){this.R.length&&"none"===this.R.css("display")||("none"==this.w.css("display")?(this.w.css("display","block"),this.w.find("button").attr("data-url",window.location.href),this.w.find("button").attr("data-title",document.title)):this.w.css("display","none"))};window.PompousVideoLikeNavigation=hb;
function jb(e){var b=this;this.g=void 0;this.h=e.stageId;this.j=this.o=this.R=this.u=this.f=this.i=this.m=this.B=this.a=void 0;this.w=this.F=!1;this.v=!0;ppDocumentReady(function(){b.a=$("#"+b.h);if(0===b.a.length)throw alert("Invalid play script! Developer, see the browser console for more info."),Error("No such stage element in the DOM document: '"+b.h+"'!");b.B=$("#"+b.h+" .pp-selector-play-pause-resume-button");b.m=$("#"+b.h+" .pp-selector-prev-animation-button");b.i=$("#"+b.h+" .pp-selector-next-animation-button");
b.f=$("#"+b.h+" .pp-selector-audio-on-off-button");b.u=$("#"+b.h+" .pp-selector-full-screen-button");b.R=$("#"+b.h+" .pp-selector-status-bar");b.o=$("#"+b.h+" .pp-selector-share-button");b.j=$("#"+b.h+" .pp-selector-share-menu");b.B.css("opacity",.5);b.m.css("opacity",.5);b.i.css("opacity",.5);!b.o.length||!0!==e.hideShareButton&&"true"!==getPompousUrlParams().hideShareButton||b.o.css("display","none");!0!==e.hideAudioButton&&"true"!==getPompousUrlParams().hideAudioButton||b.f.css("display","none");
!0!==e.hideFullScreenButton&&"true"!==getPompousUrlParams().hideFullScreenButton||b.u.css("display","none");document.addEventListener("click",function(l){(l=l.target)&&l instanceof Node&&0<b.j.length&&!b.j.get(0).contains(l)&&b.o.length&&!b.o.get(0).contains(l)&&b.j.css("display","none")});["touchstart","touchmove","touchend"].forEach(function(l){b.B.get(0).addEventListener(l,function(t){t.stopPropagation()});b.m.get(0).addEventListener(l,function(t){t.stopPropagation()});b.i.get(0).addEventListener(l,
function(t){t.stopPropagation()});b.f.get(0).addEventListener(l,function(t){t.stopPropagation()});b.u.get(0).addEventListener(l,function(t){t.stopPropagation()});b.o.length&&b.o.get(0).addEventListener(l,function(t){t.stopPropagation()})});var f;$("meta[property='pp:presentation_id']").length?f=document:f=b.a.get(0);f.addEventListener("keydown",function(l){"s"!==l.key&&b.j.css("display","none");if(!(l.ctrlKey||l.altKey||l.shiftKey))switch(l.key){case " ":b.g.togglePlayPauseResume(!0);break;case "ArrowLeft":b.g.playPreviousAnimation();
break;case "ArrowRight":b.g.playNextAnimation();break;case "b":b.g.togglePlayPauseResume(!1);break;case "m":b.g.toggleAudioOnOff();break;case "r":b.g.restartFromBeginning();break;case "s":b.toggleShowHideShareMenu(l);break;case "f":b.g.jumpBy(100,!1);break;case "d":b.g.jumpBy(-100,!1)}})})}r=jb.prototype;r.initStarted=function(e,b){this.g=b};
r.initFinished=function(){$("#"+this.h+" .pp-selector-carousel-splash").css("visibility","hidden");this.B.css("opacity",1);this.i.css("opacity",1);this.g.hasAudioOrVideos()?(this.g.isAudioOn()?(this.f.find(".pp-selector-audio-on").css("display","block"),this.f.find(".pp-selector-audio-off").css("display","none")):(this.f.find(".pp-selector-audio-on").css("display","none"),this.f.find(".pp-selector-audio-off").css("display","block")),this.f.css("cursor","pointer")):(this.f.html(""),this.f.css("visibility",
"hidden"))};r.imageLoaded=function(){};
r.onPrevOrNextAnimationChange=function(e,b,f){-1==b?(this.v=!0,this.m.css("opacity",.5)):(this.v=!1,this.m.css("opacity",1));b>f-1?(this.w=!0,this.a.find(".pp-selector-play").css("display","none"),this.a.find(".pp-selector-pause").css("display","none"),this.a.find(".pp-selector-rewind").css("display","block"),this.i.css("opacity",.5)):(this.w=!1,this.i.css("opacity",1),this.B.css("opacity",1),this.F?(this.a.find(".pp-selector-play").css("display","none"),this.a.find(".pp-selector-pause").css("display","block")):
(this.a.find(".pp-selector-play").css("display","block"),this.a.find(".pp-selector-pause").css("display","none")),this.a.find(".pp-selector-rewind").css("display","none"))};
r.reset=function(e,b){this.F=!1;this.a.find(".pp-selector-play").css("display","block");this.a.find(".pp-selector-pause").css("display","none");this.a.find(".pp-selector-rewind").css("display","none");this.B.css("opacity",1);this.w=!1;this.v=!0;this.m.css("opacity",.5);this.i.css("opacity",1);e?b?(this.f.find(".pp-selector-audio-on").css("display","none"),this.f.find(".pp-selector-audio-off").css("display","block")):(this.f.find(".pp-selector-audio-on").css("display","block"),this.f.find(".pp-selector-audio-off").css("display",
"none")):(this.f.html(""),this.f.css("visibility","hidden"))};r.playStarted=function(){this.F=!0;this.a.find(".pp-selector-play").css("display","none");this.a.find(".pp-selector-pause").css("display","block");this.a.find(".pp-selector-rewind").css("display","none")};r.playPaused=function(){this.F=!1;this.a.find(".pp-selector-play").css("display","block");this.a.find(".pp-selector-pause").css("display","none")};
r.performanceFinished=function(){this.w=!0;this.a.find(".pp-selector-play").css("display","none");this.a.find(".pp-selector-pause").css("display","none");this.a.find(".pp-selector-rewind").css("display","block");this.i.css("opacity",.5)};r.performanceFinishedBackward=function(){this.v=!0;this.m.css("opacity",.5)};
r.progressUpdate=function(e,b,f){b===f?(this.w=!0,this.i.css("opacity",.5)):this.w&&b<f&&(this.w=!1,this.i.css("opacity",1));0===b?(this.v=!0,this.m.css("opacity",.5)):this.v&&0<b&&(this.v=!1,this.m.css("opacity",1))};r.audioMutedUnmuted=function(e){e?(this.f.find(".pp-selector-audio-on").css("display","none"),this.f.find(".pp-selector-audio-off").css("display","block")):(this.f.find(".pp-selector-audio-on").css("display","block"),this.f.find(".pp-selector-audio-off").css("display","none"))};
r.fullScreenChanged=function(e){e?(this.u.find(".pp-selector-full-screen-on").css("display","none"),this.u.find(".pp-selector-full-screen-off").css("display","block")):(this.u.find(".pp-selector-full-screen-on").css("display","block"),this.u.find(".pp-selector-full-screen-off").css("display","none"))};
r.toggleShowHideShareMenu=function(){this.o.length&&"none"===this.o.css("display")||("none"==this.j.css("display")?(this.j.css("display","block"),this.j.find("button").attr("data-url",window.location.href),this.j.find("button").attr("data-title",document.title)):this.j.css("display","none"))};
r.copyPresentationUrlToClipboard=function(){var e=document.createElement("textarea");e.value=window.location.href;e.setAttribute("readonly","");e.style.position="absolute";e.style.left="-9999px";document.body.appendChild(e);e.select();document.execCommand("copy");document.body.removeChild(e)};
r.shareViaGmail=function(){var e="\n"+document.title+"\n"+window.location.href+"\n";e="https://mail.google.com/mail/?view=cm&fs=1&su="+encodeURIComponent("Check out this slideshow")+"&body="+encodeURIComponent(e);window.open(e,"_blank")};window.PompousCarouselNavigation=jb;function kb(e){var b=this;this.f=e.stageId;this.a=void 0;ppDocumentReady(function(){b.a=$("#"+b.f+" .pp-selector-no-navigation-current-state-div")})}r=kb.prototype;r.initStarted=function(){};
r.initFinished=function(){$("#"+this.f+" .pp-selector-no-navigation-splash").css("visibility","hidden");this.a.text("INIT_FINISHED")};r.imageLoaded=function(){};r.progressUpdate=function(){};r.onPrevOrNextAnimationChange=function(){};r.reset=function(){};r.playStarted=function(){this.a.text("PLAYING")};r.playPaused=function(){this.a.text("PAUSED")};r.performanceFinished=function(){this.a.text("PERFORMANCE_FINISHED")};r.performanceFinishedBackward=function(){this.a.text("PERFORMANCE_FINISHED_BACKWARD")};
r.audioMutedUnmuted=function(){};r.fullScreenChanged=function(){};r.toggleShowHideShareMenu=function(){};r.copyPresentationUrlToClipboard=function(){};r.shareViaGmail=function(){};window.PompousBlankNavigation=kb;
